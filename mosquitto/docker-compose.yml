# https://dev.to/abbazs/a-step-by-step-guide-for-starting-a-mosquitto-broker-service-in-a-containers-with-docker-compose-1j8i

version: '3.8'
services:
  mqtt-broker:
    image: eclipse-mosquitto:latest
    user: mosquitto
    volumes:
    - type: bind
      source: ./config/
      target: /mosquitto/config/
      read_only: false
    - type: bind
      source: ./log/
      target: /mosquitto/log/
      read_only: false
    - type: volume
      source: data
      target: /mosquitto/data/
    ports:
    - "1883:1883"
    - "9001:9001"
    - "8080:8080"

volumes:
   data:
       name: "mqtt-broker-data"
